<?xml version="1.0" encoding="utf-8"?>
<server>
    <!--ios:1 andriod:2-->
    <platform>1</platform>
 	<!--服务器组名-->
    <server_name>内网测试服</server_name>
 	<!--服务器组ID 取[1,1500]-->
    <server_id>5</server_id>
    <version>1.0</version>
	<!--创角标志 0表示正常创角， 1表示限制创角-->
	<can_create_new_role>0</can_create_new_role>	
    <!--GM等级权限 0:无权限 1:普通gm 2:超级gm-->
	<gm_level>1</gm_level>	
	<!--开服时间-->
    <start_time>2016-08-01 00:00:00</start_time>
    <!--支持混渠道，用;隔开 渠道 0:test 1:apple-->
    <channel>0</channel>
    <common>
        <!--连接白名单(监听服只接受来自于在白名单中的IP连接) 多个用;隔开-->
        <ip_white_list>47.100.130.174;139.196.41.108;116.231.159.207;192.168.1.6;192.168.1.5;192.168.1.178;192.168.1.209;192.168.1.212;192.168.1.223;192.168.1.185;192.168.1.233</ip_white_list>
        <!--服务器间重连的间隔时间，单位：秒-->
        <reconnect_interval_time>10</reconnect_interval_time>
        <path>
            <config>../config</config>
            <script>../config/script</script>
            <map>../config/map</map>
            <ai>../config/ai</ai>
        </path>
        <!--发送给日志服务器的日志条数限制-->
        <db_log_count_limit>20</db_log_count_limit>
        <!--0表示按天创建log 1表示按小时创建log-->
        <new_logfile_per_hour>0</new_logfile_per_hour>
        <!--LOG路径-->
        <log_path>./logs</log_path>
        <!--是否打印trace类型LOG-->
        <log_trace>0</log_trace>
        <!--是否打印debug类型LOG-->
        <log_debug>0</log_debug>
        <!--是否打印info类型LOG-->
        <log_info>1</log_info>
        <!--消息统计LOG-->  
        <log_msg_count>0</log_msg_count>
        <log>
            <role>1</role>
            <hero>1</hero>
            <equip>1</equip>
            <trade>1</trade>
            <task>1</task>
            <scene>1</scene>
            <item>1</item>
            <boss>1</boss>
            <fight>0</fight>
            <treasure>1</treasure>
            <pk>1</pk>
            <rank>1</rank>
            <role_buff>1</role_buff>
            <achieve>1</achieve>
            <red_point>1</red_point>
            <lifeforce>1</lifeforce>
            <new_guide>1</new_guide>
            <dungeon>1</dungeon>
            <kingwar>1</kingwar>
            <shop>1</shop>
            <mail>1</mail>
            <friend>1</friend>
            <worldcup>1</worldcup>
            <goods>1</goods>
            <family>1</family>
            <active_reward>1</active_reward>
            <page>1</page>
            <expedition>1</expedition>
            <troop>1</troop>
            <arena>1</arena>
            <money>1</money>
            <tower>1</tower>
			<multi>1</multi>
          <redbag>1</redbag>
          <offline_arena>1</offline_arena>
		  <country>1</country>
        </log>
    </common>

    <!--login配置-->
    <login_server>
        <!--服务器人数限制，超过该人数则开始排队-->
        <user_num_max>20000</user_num_max>
        <!--处理排队的timer间隔, 为0表示关闭排队功能。单位：秒-->
        <login_queue_timer>0</login_queue_timer>
        <!--每次处理排队的客户端数量-->
        <login_queue_process>3600</login_queue_process>
        <!--开启IP通道，只有规定的IP才能访问 大于0开启 等于0关闭-->
        <ip_access>0</ip_access>
        <timeout>
            <!--默认500s 和客户端的会话超时，防止客户端sokcet连接上但不发消息占用socket数量 单位：秒-->
            <session>180</session>
        </timeout>
        <thread_num>
            <network>4</network>
        </thread_num>
        <listen>
            <client>
                <ip>192.168.1.5</ip>
                <port>#CHANGE_PORT#</port>
                <out_ip>192.168.1.5</out_ip>
                <out_port>#OUT_PORT#</out_port>
            </client>
            <gate>
                <ip>192.168.1.5</ip>
                <port>#CHANGE_PORT#</port>
            </gate>
        </listen> 
        <connect>
            <account>
                <ip>192.168.1.5</ip>
                <port>36001</port>
            </account>
        </connect>
        <mysql>
            <host>192.168.1.5</host>
            <db>sg_game</db>
            <user>root</user>
            <pwd>Sanguo1!</pwd>
            <!--默认连接数-->
            <init_connections>15</init_connections>
            <!--最大连接数-->
            <max_connections>20</max_connections>
        </mysql>
        <redis>
            <host>127.0.0.1</host>
            <port>6379</port>
            <pwd>Sanguo1!</pwd>
            <db>1</db>
            <!--保存到sql间隔 秒-->
            <save_interval>1</save_interval>
            <!--单次保存到sql条数限制-->
            <save_count_limit>500</save_count_limit>
        </redis>
    </login_server>
    
    <!--gate配置-->
    <gate_server>
        <thread_num>
            <network>4</network>
        </thread_num>
        <!--移动消息合并-->
		<move_batch>1</move_batch>
        <timeout>
            <!--默认500s 和客户端的会话超时 防止客户端sokcet连接上但不发消息占用socket数量-->
            <session>500</session>
            <!--默认180s 心跳超时 设为0即心跳关闭-->
            <pingpong>180</pingpong>
            <!--默认1800s 心跳超时后等待重连的超时-->
            <reconnect>1800</reconnect>
            <!--默认259200秒(3天) 下线后的缓存存活超时-->
            <alive>259200</alive>
            <!--N毫秒内发送N条消息即为消息轰炸，将被踢下线 默认1000ms 设为0即关闭-->
            <msg_bomb_interval>1000</msg_bomb_interval>
            <!--默认10次-->
            <msg_bomb_count>10</msg_bomb_count>
            <!--通知login人数的时间间隔， 秒--> 
            <notify_login_time>5000</notify_login_time>
        </timeout>
        <connect>
            <cross> 
				<!--192.168.1.5;139.196.41.108-->
                <ip>192.168.1.5</ip>
				<!--11002;11002-->
                <port>36007</port>
            </cross>
        </connect>
        <!--理论上一个服20000人 配置4个gate即可-->
		<!-- #GATE_CONF# -->
		<#GATE_NO#>
            <listen>
                <client>
                    <ip>192.168.1.5</ip>
                    <port>#CHANGE_PORT#</port>
                    <out_ip>192.168.1.5</out_ip>
                    <out_port>#OUT_PORT#</out_port>
                </client>
                <game>
                    <ip>192.168.1.5</ip>
                    <port>#CHANGE_PORT#</port>
                </game>
            </listen>
        </#GATE_NO#>	
    </gate_server>

    <!--game配置-->
    <game_server>
        <!--同屏同步角色最大数量-->
        <max_nine_objects>50</max_nine_objects>
        <thread_num>
            <network>4</network>
        </thread_num>
		<enter_game_bag>
			<bag_max_byte>50000</bag_max_byte>
			<hero_max_byte>40000</hero_max_byte>
			<item_max_byte>40000</item_max_byte>
		</enter_game_bag>
    </game_server>
    
    <!--db配置-->
    <db_server>
        <thread_num>
            <network>10</network>
        </thread_num>
        <listen>
            <game>
                <ip>192.168.1.5</ip>
                <port>#CHANGE_PORT#</port>
            </game>
            <center>
                <ip>192.168.1.5</ip>
                <port>#CHANGE_PORT#</port>
            </center>
        </listen>
        <connect>
            <account>
                <ip>192.168.1.5</ip>
                <port>36002</port>
            </account>
        </connect>
        <mysql>
            <host>192.168.1.5</host>
            <db>sg_game</db>
            <user>root</user>
            <pwd>Sanguo1!</pwd>
            <!--默认连接数-->
            <init_connections>15</init_connections>
            <!--最大连接数-->
            <max_connections>20</max_connections>
        </mysql>
        <redis>
            <host>127.0.0.1</host>
            <port>6379</port>
            <pwd>Sanguo1!</pwd>
            <db>1</db>
            <!--保存到sql间隔 秒-->
            <save_interval>1</save_interval>
            <!--单次保存到sql条数限制-->
            <save_count_limit>500</save_count_limit>
        </redis>
    </db_server>

    <!--center配置-->
    <center_server>
        <thread_num>
            <network>4</network>
        </thread_num>
        <listen>
            <game>
                <ip>192.168.1.5</ip>
                <port>#CHANGE_PORT#</port>
            </game>
            <gate>
                <ip>192.168.1.5</ip>
                <port>#CHANGE_PORT#</port>
            </gate>
            <chat>
                <ip>192.168.1.5</ip>
                <port>#CHANGE_PORT#</port>
            </chat>
            <gm>
                <ip>192.168.1.5</ip>
                <port>#CHANGE_PORT#</port>
            </gm>
        </listen>
        <connect>
            <transfer>
				<!--192.168.1.5;139.196.41.108-->
                <ip>192.168.1.5</ip>
				<!--30001;30001-->
                <port>36004</port>
            </transfer>
        </connect>
        <mysql>
            <host>192.168.1.5</host>
            <db>sg_game</db>
            <user>root</user>
            <pwd>Sanguo1!</pwd>
            <!--默认连接数-->
            <init_connections>15</init_connections>
            <!--最大连接数-->
            <max_connections>20</max_connections>
        </mysql>
        <redis>
            <host>127.0.0.1</host>
            <port>6379</port>
            <pwd>Sanguo1!</pwd>
            <db>1</db>
            <!--保存到sql间隔 秒-->
            <save_interval>1</save_interval>
            <!--单次保存到sql条数限制-->
            <save_count_limit>500</save_count_limit>
        </redis>
    </center_server>

    <!--chat配置-->
    <chat_server>
        <thread_num>
            <network>4</network>
        </thread_num>
        <listen>
            <gate>
                <ip>192.168.1.5</ip>
                <port>#CHANGE_PORT#</port>
            </gate>
            <game>
                <ip>192.168.1.5</ip>
                <port>#CHANGE_PORT#</port>
            </game>
        </listen>
        <connect>
            <transfer>
				<!--192.168.1.5;139.196.41.108-->
                <ip>192.168.1.5</ip>
				<!--30000;30000-->
                <port>36003</port>
            </transfer>
        </connect>
    </chat_server>

    <!--log配置-->
    <log_server>
        <!--默认60秒-->
        <update_to_db_time>60</update_to_db_time>
        <thread_num>
            <network>4</network>
            <log>4</log>
        </thread_num>
        <listen>
            <game>
                <ip>192.168.1.5</ip>
                <port>#CHANGE_PORT#</port>
            </game>
            <center>
                <ip>192.168.1.5</ip>
                <port>#CHANGE_PORT#</port>
            </center>
        </listen>
        <mysql>
            <host>192.168.1.5</host>
            <db>sg_log</db>
            <user>root</user>
            <pwd>Sanguo1!</pwd>
            <!--默认连接数-->
            <init_connections>15</init_connections>
            <!--最大连接数-->
            <max_connections>20</max_connections>
        </mysql>
    </log_server>
    
    <!--gm配置-->
    <gm_server>
        <thread_num>
            <network>4</network>
        </thread_num>
        <!--开启IP通道，只有规定的IP才能访问 例：想让192.168.1.219访问 就填192.168.1.219 只能填一个IP-->
        <ip_access>0</ip_access>
        <!-- cdkey 兑换的web地址  -->
		<cdkey_web_url>http://139.196.41.108:8080/sg_cdkey/cdkey.php</cdkey_web_url>
        <listen>
            <gmtool>
                <ip>192.168.1.5</ip>
                <port>#CHANGE_PORT#</port>
            </gmtool>
        </listen>
        <mysql>
            <host>192.168.1.5</host>
            <db>sg_log</db>
            <user>root</user>
            <passwd>Sanguo1!</passwd>
            <!--默认连接数-->
            <init_connections>15</init_connections>
            <!--最大连接数-->
            <max_connections>20</max_connections>
        </mysql>
    </gm_server>

	<!-- recharge配置 -->
	<recharge_server>
		<thread_num>
			<network>4</network>
		</thread_num>
        <ip_access>0</ip_access><!--开启IP通道，只有规定的IP才能访问 例：想让192.168.1.219访问 就填192.168.1.219 只能填一个IP-->
		<listen>
			<center>
				<ip>192.168.1.5</ip>
				<port>>#CHANGE_PORT#</port>
			</center>
		</listen>
		<mysql>
            <host>192.168.1.5</host>
            <db>sg_game</db>
            <user>root</user>
            <pwd>Sanguo1!</pwd>
            <init_connections>15</init_connections><!--默认连接数-->
            <max_connections>20</max_connections><!--最大连接数-->
        </mysql>
        <redis>
            <host>127.0.0.1</host>
            <port>6379</port>
            <pwd>Sanguo1!</pwd>
            <db>1</db>
            <save_interval>60</save_interval><!--保存到sql间隔 秒-->
            <save_count_limit>1000</save_count_limit><!--单次保存到sql条数限制-->
        </redis>
	</recharge_server>
</server> 
